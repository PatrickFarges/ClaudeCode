# ğŸ”ï¸ v5.4 - Algorithme Minecraft 1.18

## ğŸ‰ **LE VRAI ALGORITHME MINECRAFT !**

Cette version implÃ©mente l'algorithme **rÃ©el** utilisÃ© par Minecraft depuis la version 1.18 (Caves & Cliffs Part 2, novembre 2021).

C'est cet algorithme qui a **rÃ©solu** le problÃ¨me des montagnes chez Mojang aprÃ¨s 10+ ans !

---

## ğŸ§  **Comment Ã§a marche**

### **SystÃ¨me Ã  3 paramÃ¨tres (comme Minecraft)**

Minecraft 1.18 n'utilise **PAS** juste du noise 2D pour la hauteur ! Ils utilisent **3 paramÃ¨tres indÃ©pendants** :

#### **1. Continentalness** ğŸŒ
- **Ã‰chelle** : TrÃ¨s large (continents entiers)
- **RÃ´le** : Ã‰lÃ©vation globale d'une zone
- Valeur : -1 (ocÃ©an) Ã  +1 (inland)
- **Effet** : Â±25 blocs de hauteur

#### **2. Erosion** ğŸ’§
- **Ã‰chelle** : Large (rÃ©gions)
- **RÃ´le** : Forme les vallÃ©es et plateaux
- Valeur : -1 (vallÃ©e Ã©rodÃ©e) Ã  +1 (plateau)
- **Effet** : 
  - NÃ©gatif â†’ Creuse des vallÃ©es (-15 blocs)
  - Positif â†’ CrÃ©e des plateaux (+8 blocs)

#### **3. Peaks & Valleys (PV)** â›°ï¸
- **Ã‰chelle** : Moyenne (montagnes individuelles)
- **RÃ´le** : DÃ©termine si c'est un pic ou une vallÃ©e
- Valeur : -1 (vallÃ©e) Ã  +1 (pic)
- **Effet** :
  - PV > 0.3 â†’ **Montagne** ! (+0 Ã  +60 blocs)
  - PV < -0.3 â†’ VallÃ©e (-0 Ã  -12 blocs)
  - PV entre -0.3 et 0.3 â†’ Plat

---

## ğŸ¯ **LA CLÃ‰ : Noise 3D !**

### **Avant (v5.1-5.3)** âŒ
```
Hauteur = f(x, z)  â† 2D noise
RÃ©sultat : LinÃ©aire, falaises
```

### **Maintenant (v5.4)** âœ…
```
DensitÃ© = f(x, y, z)  â† 3D noise!
Si densitÃ© > 0 â†’ Solide
Si densitÃ© < 0 â†’ Air
RÃ©sultat : Pentes organiques !
```

**C'est Ã§a le secret de Minecraft !** ğŸ”¥

---

## ğŸ“ **Formule ComplÃ¨te**

```gdscript
# 1. Hauteur de base
base_height = SEA_LEVEL (64)
base_height += continentalness * 25
base_height += erosion * (15 si <0, 8 si >0)

if peaks_valleys > 0.3:
    mountain = pow((pv - 0.3) / 0.7, 0.8) * 60
    base_height += mountain

# 2. DensitÃ© 3D pour chaque bloc
density = (base_height - y) + noise_3d(x,y,z) * 4

# 3. Squash vertical (astuce Minecraft!)
if y proche surface:
    density *= 2.0  # Plus de variation
elif y profond:
    density *= 0.3  # Toujours solide

# 4. RÃ©sultat
if density > 0:
    bloc = SOLIDE
else:
    bloc = AIR
```

---

## ğŸ”ï¸ **RÃ©sultats Attendus**

### **Montagnes** :
- Pics Ã  **130-150 blocs** dans les zones froides
- Pentes **progressives** et escaladables
- VallÃ©es entre les montagnes
- Plateaux rocheux

### **Plaines** :
- Hauteur **62-75 blocs**
- LÃ©gÃ¨rement ondulÃ©es
- Plates autour du niveau mer

### **DÃ©serts** :
- TrÃ¨s **plats** (58-68 blocs)
- Dunes douces
- Proche niveau mer

### **ForÃªts** :
- Collines **65-90 blocs**
- Terrain variÃ©
- VallÃ©es et collines

---

## ğŸ¨ **Pourquoi Ã§a devrait marcher**

### **Avantages du 3D noise** :
1. **Surplombs naturels** (impossible en 2D)
2. **Grottes qui suivent le terrain**
3. **Pentes organiques** (pas de falaises artificielles)
4. **Variation verticale** (pas juste horizontale)

### **Avantages des 3 paramÃ¨tres** :
1. **Continentalness** â†’ RÃ©gions cohÃ©rentes
2. **Erosion** â†’ VallÃ©es et plateaux rÃ©alistes
3. **PV** â†’ Montagnes oÃ¹ il faut, pas partout

---

## ğŸ”§ **Ajustements Possibles**

### **Montagnes trop hautes ?**
```gdscript
var mountain_height = pow((pv - 0.3) / 0.7, 0.8) * 60
                                                   â†‘
                                            Change Ã  40
```

### **Montagnes trop basses ?**
```gdscript
var mountain_height = pow((pv - 0.3) / 0.7, 0.8) * 60
                                                   â†‘
                                            Change Ã  80
```

### **Pentes trop raides ?**
```gdscript
var mountain_height = pow((pv - 0.3) / 0.7, 0.8) * 60
                                           â†‘
                                    Change Ã  0.6 (plus doux)
```

### **Trop de montagnes ?**
```gdscript
if peaks_valleys > 0.3:  â† Change Ã  0.4
```

---

## ğŸ“Š **Comparaison Versions**

| Version | Algorithme | RÃ©sultat |
|---------|-----------|----------|
| v5.1 | 1 noise 2D | Falaises verticales |
| v5.2 | 3 noises 2D | Pyramides |
| v5.3 | 4 noises 2D + sigmoÃ¯de | Tours |
| **v5.4** | **3 params + 3D noise** | **Montagnes rÃ©alistes ?** |

---

## ğŸ® **Test RecommandÃ©**

1. Lance le jeu
2. Regarde le HUD : "v5.4"
3. Explore !
4. Cherche une zone **froide** (tempÃ©rature < 0.4)
5. LÃ  tu **devrais** voir de vraies montagnes !

---

## ğŸ’­ **Si Ã§a marche toujours pas...**

Alors **on abandonne** les grandes montagnes et on passe Ã  :
- Max 60 blocs de haut (collines)
- Focus sur le gameplay
- On reviendra plus tard

**Mais croisons les doigts !** ğŸ¤

---

## ğŸ“š **RÃ©fÃ©rences**

- [Minecraft 1.18 Technical Changes](https://minecraft.wiki/Caves_%26_Cliffs)
- Algorithme basÃ© sur les data packs Minecraft
- "Continentalness/Erosion/PV" est le systÃ¨me officiel Mojang

---

**C'est notre meilleur shot !** ğŸ”ï¸ğŸ¯
